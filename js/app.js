(function(){var e,t,r,o,n,a,c,i,u,s,l,g,d,m,f;m=document.createElement("script"),m.src="//www.youtube.com/iframe_api",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(m,t),c={},r=0,d=0,e=0,window.onYouTubeIframeAPIReady=function(){return c=new YT.Player("player",{height:"390",width:"640",videoId:"CG48Y5dL9J8",events:{onReady:n,onStateChange:a}})},n=function(e){return e.target.playVideo(),d=c.getPlayerState(),setInterval(f,5e3)},a=function(t){return console.log(t.data),1===t.data&&(o(),e=c.getDuration(),0===r)?(d=t.data,g(),r=1):void 0},o=function(){return $(".text span").bind("click",function(){var e;return e=$(this).data("time"),c.seekTo(e,!0)}),$(".resume a").bind("click",function(){return s(e)}),$(".reset a").bind("click",function(){return i()})},u=function(){return s(e)},i=function(){return localStorage.removeItem("progress"),c.seekTo(0)},f=function(){var e;return e=c.getCurrentTime(),e=Math.floor(e),l(e)},l=function(e){var t;return console.log("storage called"),t=localStorage.getItem("progress"),e>t?localStorage.setItem("progress",e):0},g=function(){var e;return e=localStorage.getItem("progress"),e?($(".reset").show(),$(".resume").show()):void 0},s=function(e){var t;return t=localStorage.getItem("progress"),t<Math.floor(e)?c.seekTo(t-5):localStorage.removeItem("progress")}}).call(this);