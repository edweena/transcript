(function(){var e,t,r,n,o,a,i,u,c,s,l,d,g,m,f,h,p,w,v,y;w=document.createElement("script"),w.src="//www.youtube.com/iframe_api",n=document.getElementsByTagName("script")[0],n.parentNode.insertBefore(w,n),c={},o=0,p=0,r=0,v=$(document).width(),s=.609375,e=v/2,t=e*s,window.onYouTubeIframeAPIReady=function(){return c=new YT.Player("player",{height:t,width:e,videoId:"CG48Y5dL9J8",events:{onReady:i,onStateChange:u}})},i=function(e){return e.target.playVideo(),p=c.getPlayerState(),setInterval(y,5e3)},u=function(e){return console.log(e.data),1===e.data&&(a(),r=c.getDuration(),0===o)?(p=e.data,h(),o=1):void 0},a=function(){return $(".text span").bind("click",function(){var e;return e=$(this).data("time"),c.seekTo(e,!0)}),$(".resume a").bind("click",function(){return m(r)}),$(".reset a").bind("click",function(){return l()}),$(window).bind("resize",function(){return d()})},g=function(){return m(r)},l=function(){return localStorage.removeItem("progress"),c.seekTo(0)},y=function(){var e;return e=c.getCurrentTime(),e=Math.floor(e),f(e)},f=function(e){var t;return console.log("storage called"),t=localStorage.getItem("progress"),e>t?localStorage.setItem("progress",e):0},h=function(){var e;return e=localStorage.getItem("progress"),e?($(".reset").show(),$(".resume").show()):void 0},m=function(e){var t;return t=localStorage.getItem("progress"),t<Math.floor(e)?c.seekTo(t-5):localStorage.removeItem("progress")},d=function(){return v=$(document).width(),t=v/2.5,e=t*s,$("#player").attr("width",t),$("#player").attr("height",e)}}).call(this);