(function(){var e,t,r,o,n,s,a,i,u,c,l,g,d,f,m,p,h,v,w,y,I;w=document.createElement("script"),w.src="//www.youtube.com/iframe_api",o=document.getElementsByTagName("script")[0],o.parentNode.insertBefore(w,o),c={},n=0,v=0,r=0,y=$(document).width(),l=.609375,e=y/2,t=e*l,window.onYouTubeIframeAPIReady=function(){return c=new YT.Player("player",{height:t,width:e,videoId:"CG48Y5dL9J8",events:{onReady:i,onStateChange:u}})},i=function(e){return e.target.playVideo(),v=c.getPlayerState(),setInterval(I,5e3)},u=function(e){if(console.log(e.data),1===e.data){if(a(),r=c.getDuration(),0!==n)return;v=e.data,h(),n=1}return 0===e.data?(s(),localStorage.setItem("progress",0)):void 0},a=function(){return $(".text span").bind("click",function(){var e;return e=$(this).data("time"),c.seekTo(e,!0)}),$(".resume a").bind("click",function(){return m(r)}),$(".reset a").bind("click",function(){return g()}),$(window).bind("resize",function(){return d()})},f=function(){return m(r)},g=function(){return localStorage.setItem("progress",0),console.log("Progress reset"),c.seekTo(0)},I=function(){var e;return e=c.getCurrentTime(),e=Math.floor(e),p(e)},p=function(e){var t;return console.log("storage called"),t=localStorage.getItem("progress"),e>t?(localStorage.setItem("progress",e),console.log("progress saved at "+e)):(console.log("progress not saved, since it's less than your previous progress"),0)},h=function(){var e;return e=localStorage.getItem("progress"),e?($(".reset").show(),$(".resume").show()):void 0},s=function(){return $(".reset").fadeOut(),$(".resume").fadeOut()},m=function(e){var t;return t=localStorage.getItem("progress"),t<Math.floor(e)?(c.seekTo(t-3),console.log("Video started from previous position of "+(t-3)+" minus three seconds")):localStorage.setItem("progress",0)},d=function(){return y=$(document).width(),t=y/2.5,e=t*l,$("#player").attr("width",t),$("#player").attr("height",e)}}).call(this);